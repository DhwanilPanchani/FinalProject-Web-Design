{"ast":null,"code":"var _jsxFileName = \"/Users/dhwanilpanchani/Desktop/Project Web Design/frontend/src/pages/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, Container, TextField, Button, Typography, Snackbar, Alert } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [alert, setAlert] = useState({\n    open: false,\n    message: '',\n    severity: ''\n  });\n  const navigate = useNavigate();\n  const handleLogin = async () => {\n    try {\n      const response = await fetch('http://localhost:3001/api/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        localStorage.setItem('token', data.data.token); // Save token\n        localStorage.setItem('role', data.data.role); // Save role\n        localStorage.setItem('name', data.data.name); // Save name\n\n        setAlert({\n          open: true,\n          message: 'Login successful!',\n          severity: 'success'\n        });\n        if (data.data.role === 'freelancer') {\n          navigate('/landing');\n        } else {\n          navigate('/dashboard');\n        }\n      } else {\n        throw new Error(data.message);\n      }\n    } catch (error) {\n      setAlert({\n        open: true,\n        message: error.message,\n        severity: 'error'\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 5,\n        p: 3,\n        borderRadius: '10px',\n        backgroundColor: '#f5f5f5'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        align: \"center\",\n        gutterBottom: true,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Email\",\n        type: \"email\",\n        fullWidth: true,\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        sx: {\n          mb: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Password\",\n        type: \"password\",\n        fullWidth: true,\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        sx: {\n          mb: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        fullWidth: true,\n        onClick: handleLogin,\n        sx: {\n          mb: 2\n        },\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        align: \"center\",\n        children: [\"Don't have an account?\", ' ', /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"text\",\n          onClick: () => navigate('/signup'),\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: alert.open,\n      autoHideDuration: 4000,\n      onClose: () => setAlert({\n        ...alert,\n        open: false\n      }),\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: alert.severity,\n        children: alert.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(LoginPage, \"ewIS4+DmPC37YMgksMbBOCc3caw=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","useNavigate","Box","Container","TextField","Button","Typography","Snackbar","Alert","jsxDEV","_jsxDEV","LoginPage","_s","email","setEmail","password","setPassword","alert","setAlert","open","message","severity","navigate","handleLogin","response","fetch","method","headers","body","JSON","stringify","data","json","success","localStorage","setItem","token","role","name","Error","error","maxWidth","children","sx","mt","p","borderRadius","backgroundColor","variant","align","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","label","type","fullWidth","value","onChange","e","target","mb","onClick","autoHideDuration","onClose","_c","$RefreshReg$"],"sources":["/Users/dhwanilpanchani/Desktop/Project Web Design/frontend/src/pages/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, Container, TextField, Button, Typography, Snackbar, Alert } from '@mui/material';\n\nconst LoginPage = () => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [alert, setAlert] = useState({ open: false, message: '', severity: '' });\n    const navigate = useNavigate();\n\n    const handleLogin = async () => {\n        try {\n            const response = await fetch('http://localhost:3001/api/auth/login', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ email, password }),\n            });\n\n            const data = await response.json();\n\n            if (data.success) {\n                localStorage.setItem('token', data.data.token); // Save token\n                localStorage.setItem('role', data.data.role);  // Save role\n                localStorage.setItem('name', data.data.name);  // Save name\n\n                setAlert({ open: true, message: 'Login successful!', severity: 'success' });\n\n                if (data.data.role === 'freelancer') {\n                    navigate('/landing');\n                } else {\n                    navigate('/dashboard');\n                }\n            } else {\n                throw new Error(data.message);\n            }\n        } catch (error) {\n            setAlert({ open: true, message: error.message, severity: 'error' });\n        }\n    };\n\n    return (\n        <Container maxWidth=\"sm\">\n            <Box sx={{ mt: 5, p: 3, borderRadius: '10px', backgroundColor: '#f5f5f5' }}>\n                <Typography variant=\"h5\" align=\"center\" gutterBottom>\n                    Login\n                </Typography>\n                <TextField\n                    label=\"Email\"\n                    type=\"email\"\n                    fullWidth\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    sx={{ mb: 2 }}\n                />\n                <TextField\n                    label=\"Password\"\n                    type=\"password\"\n                    fullWidth\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    sx={{ mb: 2 }}\n                />\n                <Button variant=\"contained\" fullWidth onClick={handleLogin} sx={{ mb: 2 }}>\n                    Log In\n                </Button>\n                <Typography align=\"center\">\n                    Don't have an account?{' '}\n                    <Button variant=\"text\" onClick={() => navigate('/signup')}>\n                        Sign Up\n                    </Button>\n                </Typography>\n            </Box>\n            <Snackbar\n                open={alert.open}\n                autoHideDuration={4000}\n                onClose={() => setAlert({ ...alert, open: false })}\n            >\n                <Alert severity={alert.severity}>{alert.message}</Alert>\n            </Snackbar>\n        </Container>\n    );\n};\n\nexport default LoginPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}